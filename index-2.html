<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/main-2.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    
    <main>
        <div class="content">
            <h1 class="anim1"><span>Bridging the gap</span> <span>between dream</span> <span>and reality</span></h1>
            <p class="anim1">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Odio at ipsa alias modi natus excepturi?</p>
            <a href="#" class="anim1" id="cta">Start Dreaming</a>
        </div>
    </main>
    <aside>
            <div class="wrapper">
                <img class="swirl" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/2621168/swirl.png" alt="Swirl Graphic">
            </div>
    </aside>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script> -->

    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.1.1/CSSRulePlugin.min.js"></script>

    <script>
        
        var rule = CSSRulePlugin.getRule("span:after");

        // gsap.from('.anim1', {opacity: 0, duration: 1, y: -60, stagger: 0.6, ease: Power2.easeInOut})
        // gsap.from('img', {duration: 1, y:30, opacity: 0, delay: 1.4})
        // gsap.to(rule, {cssRule: {scaleY: 0}, duration: 1 })
        // gsap.from('aside', {duration: 1.3, delay: 1.1, backgroundPosition: '400px 0px', opcaity: 0})

        /* Timeline way */

        const tl = gsap.timeline({defaults: {duration: 1}})

        tl.from(".anim1", {y: -50, stagger: .6, opacity: 0})
            .to(rule, {duration: 1.8, cssRule: {scaleY: 0}}, "-=2.2")
            .from("aside", {backgroundPosition: '200px 0px', opacity: 0}, "-=1.5")
            .from("img", {y: 50, opacity: 0}, "-=.5")


        document.querySelector('#cta').addEventListener('click', () => {
            tl.reversed() ? tl.play() : tl.reverse()
        })
    </script>

</body>
</html>